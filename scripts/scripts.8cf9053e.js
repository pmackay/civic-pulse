(function(){"use strict";var a,b;a="http://www.codeforamerica.org/api",a="http://civicapi.herokuapp.com/api",b=angular.module("civicpulseApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","restangular","angularMoment"]),b.config(["$httpProvider","RestangularProvider",function(a){return a.defaults.useXDomain=!0,delete a.defaults.headers.common["X-Requested-With"]}]),b.config(["$routeProvider","RestangularProvider",function(b,c){return b.when("/",{templateUrl:"views/orgs.html",controller:"OrgsController"}).when("/activity",{templateUrl:"views/activity.html",controller:"ActivityController"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/orgs",{templateUrl:"views/orgs.html",controller:"OrgsController"}).otherwise({redirectTo:"/"}),c.setBaseUrl(a)}])}).call(this),function(){var a,b,c;a=100,b=angular.module("civicpulseApp"),b.config(["RestangularProvider",function(a){return a.addResponseInterceptor(function(a,b){var c;return c=a,"getList"===b&&(c=a.objects),c})}]),c=function(a){var b,c,d;return console.log(a.last_updated),d=a.last_updated.replace(" GMT",""),a.last_updated=moment(d,"ddd, D MMM YYYY HH:mm:ss").format("X"),a.github_details&&(b=moment(a.github_details.created_at),c=moment().diff(b),console.log("diff"),console.log(c),2592e6>c)?a.is_recent=!0:void 0},b.factory("CivicService",["$timeout","$http","Restangular","$rootScope",function(b,d,e){return{projects:function(){var b;return console.log("projects"),b=e.all("projects").getList({per_page:a}),b.then(function(a){var b,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)b=a[d],f.push(c(b));return f}),b},organizations:function(){var b;return b=e.all("organizations").getList({per_page:a}),b.then(function(a){var b,d,e,f,g;for(g=[],e=0,f=a.length;f>e;e++)b=a[e],g.push(function(){var a,e,f,g;for(f=b.current_projects,g=[],a=0,e=f.length;e>a;a++)d=f[a],g.push(c(d));return g}());return g}),b}}}])}.call(this),function(){"use strict";var a;a=angular.module("civicpulseApp"),a.controller("ActivityController",["$scope","CivicService",function(a,b){var c;return console.log("ActivityController"),c=b.projects(),console.log("ActivityController"),c.then(function(b){return console.log(b),a.projects=b})}]),a.controller("OrgsController",["$scope","CivicService",function(a,b){var c;return c=b.organizations(),c.then(function(b){return a.organizations=b})}])}.call(this),function(){"use strict";angular.module("civicpulseApp").controller("AboutCtrl",["$scope",function(a){return a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}])}.call(this);